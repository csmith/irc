syntax = "proto3";
package rpc;
option go_package = "rpc";

message ChannelMessage {
    string channel = 1;
    string message = 2;
    string source = 3;
}

message RawMessage {
    string message = 1;
}

message Error {
    string message = 1;
}

message Channel {
    string name = 1;
}

message Empty {
}

service IRCPlugin {
    rpc ping(Empty) returns (Empty) {};
    rpc sendChannelMessage(ChannelMessage) returns (Error) {};
    rpc sendRawMessage(RawMessage) returns (Error) {};
    rpc getMessages(Channel) returns (stream ChannelMessage) {}
}


